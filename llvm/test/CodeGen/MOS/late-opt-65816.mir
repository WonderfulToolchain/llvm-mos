# NOTE: Assertions have been autogenerated by utils/update_mir_test_checks.py
# RUN: llc -mtriple=mos -mcpu=mosw65816 -run-pass=mos-late-opt -verify-machineinstrs -o - %s | FileCheck %s
---
name: ldimm_to_txy
body: |
  bb.0.entry:
    ; CHECK-LABEL: name: ldimm_to_txy
    ; CHECK: $x = LDImm 1
    ; CHECK-NEXT: $rc0 = STImag8 killed $x
    ; CHECK-NEXT: $y = TX $x
    ; CHECK-NEXT: RTS implicit $y
    $x = LDImm 1
    $rc0 = STImag8 killed $x
    $y = LDImm 1
    RTS implicit $y
...
---
name: ldimm_to_tyx
body: |
  bb.0.entry:
    ; CHECK-LABEL: name: ldimm_to_tyx
    ; CHECK: $y = LDImm 1
    ; CHECK-NEXT: $rc0 = STImag8 killed $y
    ; CHECK-NEXT: $x = TX $y
    ; CHECK-NEXT: RTS implicit $x
    $y = LDImm 1
    $rc0 = STImag8 killed $y
    $x = LDImm 1
    RTS implicit $x
...
